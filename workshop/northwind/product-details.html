<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
</head>

<body>

    <div id="product-details">
        <h2>productName</h2>
        <div>Price: unitPrice</div>
        <div>How Many Left? unitsInStock</div>
        <div>Category: categoryId</div>
        <div>Supplier: supplier</div>
        <div>Discontinued? discontinued</div>
        <div>SKU: productId</div>
    </div>

</body>
<script>
    function getProductId() {
        let parameters = new URLSearchParams(location.search);
        return parameters.get("id");
    }

    function loadProduct(productId) {
        return fetch(`http://localhost:8081/api/products/${productId}`)
            .then((response) => response.json())
    }

    function fillProductDetails(product) {
        const productDiv = document.querySelector("#product-details");
        productDiv.querySelector("h2").innerText = product.productName;
        productDiv.querySelector("div").innerText = product.unitPrice;

    }

    window.onload = () => {
        loadProduct(getProductId()).then(product => fillProductDetails(product))
    }

</script>

</html>